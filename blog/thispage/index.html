<!doctype html><html lang=en><head><meta charset=UTF-8><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=robots content="index, follow"><link rel=author href=/humans.txt><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon href=/favicon.ico type=image/x-icon><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta name=msapplication-TileImage content="/mstile-144x144.png"><meta name=theme-color content="#494f5c"><meta name=msapplication-TileColor content="#494f5c"><link rel=mask-icon href=/safari-pinned-tab.svg color=#494f5c><meta name=author content="Ozan Ä°ncesulu"><meta itemprop=name content="Creating my website in Github Pages using Hugo"><meta itemprop=description content="Background I have purchased the domain ozyinc.com a long time ago to host custom servers (work-related, hobby and Minecraft ðŸ˜„ ), VPN server, etcâ€¦ however I have never started building my own website and for many years the homepage was an Express server behind an NGINX reverse proxy displaying Hello World on GET /.
The case with Elm and not-ever-finishing website Then, one day I wanted to try using Elm to build my customized page, being accustomed to the ecosystem for some time. There was a static site generator for Elm, namely elm-pages however I thought that it would be fun to create all my custom routes and display different front-end wizardry on my home page, just for fun and experience. I was able to build yet another Hello world page successfully with the Elm compiler this time on GitHub Pages. However, I didnâ€™t create more content to it. I was always trying to attend to other projects, freelancing, job applications, university applications etcâ€¦, thus the second version for my website has also failed (ahemâ€¦ put on hold indefinitely)."><meta itemprop=datePublished content="2020-04-24T00:00:00+00:00"><meta itemprop=dateModified content="2024-11-24T22:28:07+01:00"><meta itemprop=wordCount content="1567"><meta property="og:url" content="https://ozyinc.com/blog/thispage/"><meta property="og:site_name" content="Ozan Ä°ncesulu"><meta property="og:title" content="Creating my website in Github Pages using Hugo"><meta property="og:description" content="Background I have purchased the domain ozyinc.com a long time ago to host custom servers (work-related, hobby and Minecraft ðŸ˜„ ), VPN server, etcâ€¦ however I have never started building my own website and for many years the homepage was an Express server behind an NGINX reverse proxy displaying Hello World on GET /.
The case with Elm and not-ever-finishing website Then, one day I wanted to try using Elm to build my customized page, being accustomed to the ecosystem for some time. There was a static site generator for Elm, namely elm-pages however I thought that it would be fun to create all my custom routes and display different front-end wizardry on my home page, just for fun and experience. I was able to build yet another Hello world page successfully with the Elm compiler this time on GitHub Pages. However, I didnâ€™t create more content to it. I was always trying to attend to other projects, freelancing, job applications, university applications etcâ€¦, thus the second version for my website has also failed (ahemâ€¦ put on hold indefinitely)."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2020-04-24T00:00:00+00:00"><meta property="article:modified_time" content="2024-11-24T22:28:07+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Creating my website in Github Pages using Hugo"><meta name=twitter:description content="Background I have purchased the domain ozyinc.com a long time ago to host custom servers (work-related, hobby and Minecraft ðŸ˜„ ), VPN server, etcâ€¦ however I have never started building my own website and for many years the homepage was an Express server behind an NGINX reverse proxy displaying Hello World on GET /.
The case with Elm and not-ever-finishing website Then, one day I wanted to try using Elm to build my customized page, being accustomed to the ecosystem for some time. There was a static site generator for Elm, namely elm-pages however I thought that it would be fun to create all my custom routes and display different front-end wizardry on my home page, just for fun and experience. I was able to build yet another Hello world page successfully with the Elm compiler this time on GitHub Pages. However, I didnâ€™t create more content to it. I was always trying to attend to other projects, freelancing, job applications, university applications etcâ€¦, thus the second version for my website has also failed (ahemâ€¦ put on hold indefinitely)."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Creating my website in Github Pages using Hugo","name":"Creating my website in Github Pages using Hugo","description":"Background I have purchased the domain ozyinc.com a long time ago to host custom servers (work-related, hobby and Minecraft \u0026#x1f604; ), VPN server, etc\u0026hellip; however I have never started building my own website and for many years the homepage was an Express server behind an NGINX reverse proxy displaying Hello World on GET /.\nThe case with Elm and not-ever-finishing website Then, one day I wanted to try using Elm to build my customized page, being accustomed to the ecosystem for some time. There was a static site generator for Elm, namely elm-pages however I thought that it would be fun to create all my custom routes and display different front-end wizardry on my home page, just for fun and experience. I was able to build yet another Hello world page successfully with the Elm compiler this time on GitHub Pages. However, I didn\u0026rsquo;t create more content to it. I was always trying to attend to other projects, freelancing, job applications, university applications etc\u0026hellip;, thus the second version for my website has also failed (ahem\u0026hellip; put on hold indefinitely).\n","keywords":[],"articleBody":"Background I have purchased the domain ozyinc.com a long time ago to host custom servers (work-related, hobby and Minecraft ðŸ˜„ ), VPN server, etcâ€¦ however I have never started building my own website and for many years the homepage was an Express server behind an NGINX reverse proxy displaying Hello World on GET /.\nThe case with Elm and not-ever-finishing website Then, one day I wanted to try using Elm to build my customized page, being accustomed to the ecosystem for some time. There was a static site generator for Elm, namely elm-pages however I thought that it would be fun to create all my custom routes and display different front-end wizardry on my home page, just for fun and experience. I was able to build yet another Hello world page successfully with the Elm compiler this time on GitHub Pages. However, I didnâ€™t create more content to it. I was always trying to attend to other projects, freelancing, job applications, university applications etcâ€¦, thus the second version for my website has also failed (ahemâ€¦ put on hold indefinitely).\nThe (hopefully) complete case with Hugo and weird semantics for a good structured page After many failed interviews, a successful university application, while freelancing and a global pandemic happening outside, a friend of mine suggested that I create a personal blog of sorts, after making his case for the importance of such a blog. Meanwhile, for a freelance gig I was looking at various performance and usability metrics of different flat-file CMS and static site generators, in which I was introduced to Jekyll and Hugo (FYI: Even though there are many awesome and simple CMS like Bludit, Grav and Pico, none of them had the flexibility and security of static site generators for me).\nThus came my enthusiasm to build myself a website/blog using a static site generator. But which CMS shall I pick for the job? After learning my lesson on how hard it is for me to design websites after many design failures (that I might talk about in other posts in the future), I decided that I shouldnâ€™t be trying to do custom things and go with the provided designs at first (and who says that I cannot customize them afterwards anyways?). Thus I decided on using a static site generator to build my blog eventually. I didnâ€™t want to pick Jekyll, even though it has wide adoption and support from many organizations for two reasons:\nIt involves Ruby. For a side project I didnâ€™t want to learn a new language of which I donâ€™t have any interest in learning both from the aspects of personal development and/or professional use. The reasons why I donâ€™t want to get involved with Ruby were that it: introduces a fairly different for many commonly known operations of other programming languages doesnâ€™t introduce a new way of thinking about code (like ML-family languages, Python or Rust), is not performant (like C, Go, Rust, Nim), doesnâ€™t provide insights of a way of coding for a domain or ecosystem specific mentality (like C#, Javascript, Java or Swift) The setup time takes more than expected. The website claims that the environment should be ready in seconds. Downloading all the dependencies and libraries (Ruby, Gems, bundles, Jekyll) took 4 minutes. Luckily, I have also found out about Hugo. The features that got me interested in it were:\nNo need for a runtime environment or programming language specific environment, download one binary, and install any theme as submodule. I think I need to thank Google and their Go language for this mentality. Many features come baked in ðŸ”¨ I have seen the templating language in Helm Charts before thus the templating was much more intuitive for me ðŸ¤© I have selected a theme that I liked, and I started writing content to my first ever blog ðŸ˜ƒ.\nGithub Pages Unfortunately, for Github Pages, if you are trying to build a page for yourself (in form of .github.io), you canâ€™t use Github Pages to full extend. You only can have Github Page (pun intended ðŸ˜…), with the HTML content present at the root of the repository and all the code served from that root. There is no way to customize the serve path or branch (for project pages or organization pages you can specify a different branch or folder FYI.). I preferred to not to have the generated artifacts and source code for my page exist on the same location for maintainability, clear coding and easy deployment (considering Hugo and Jekyll both dump the generated content into a folder named public). Therefore, I have created another repository, moved all the code for my site there and update the page repository whenever I push new things to master of the code repo.\nFinal Touch: Github Actions! In order to automate the deployment of my page I have added a Github Pipeline to build the page and do a commit to the actual website repo. I have used some already prepared steps to run my pipeline, namely Github Checkout (default for all actions), Hugo Actions and Github Pages Deploy Action.\nAt first, I tried creating deploy keys or personal tokens to be used in Deploy action, however Github didnâ€™t allow access even when I provide the token with all authorization it needs to change and deploy the repo. Thus, upon consulting the documentation of the Deploy Action, I have learned that by using SSH Agent Action I can login to GitHub with SSH. This approach worked wonderfully.\nAs the last problem, the theme I have used for this site was not present when the page was deployed, which I fixed by adding the submodules: recursive argument to the Checkout action here\nIn the end I finally have a automated pipeline for deploying my page.\nBonus: Cloudflare Before I started building my page, I knew that Cloudflare offers a free plan, in which you can get your websiteâ€™s assets cached and be served from whenever the users access your page from. I know that the Github Pages already use CDN to serve pages, however I have seen CloudFlare perform better than Github, since their caches are more widespread (especially in Turkey, where I reside). Therefore I have created a free account, redirected the DNS and did few configurations.\nAaanddâ€¦ everything blew up. Apparently the CSS optimizer of Hugo and Cloudflare donâ€™t agree on what a minified CSS should feature, thus when Cloudflare re-optimized my CSS files when serving from its cache, the integrity check has failed and none of the styles were rendered. I fixed this by turning CSS optimization off on Cloudflareâ€™s side since Hugo already did a good job at minifying and fingerprinting my CSS.\nBonus 2: Cloudflare Cache Control With a free account, Cloudflare allows creating custom page rules, that I can use to add Cache-Control headers to the minified CSS and JS files that Hugo generates. I have applied Cache-Control header for 1 year with following rules:\nozyinc.com/*.min.*.css ozyinc.com/*.min.*.js Yet another extra: How to minimize Font Awesome? The theme that I was using to build my website featured some icons (the social icons on the bottom right on the main page), however some icons like angellist were missing from the set. For custom icons I was using Font Awesome icon set (especially in my CV here) however I have seen that the CSS and Fonts for Font Awesome contains a lot of icons, of which most I donâ€™t use.\nTherefore, to minimize the icons to those only I use, I found Fontello. On the website, I selected the icons I have used in my website and exported those in a file (you may download my zip here).\nHere are the steps I followed to embed the custom generated fonts:\nPut the provided CSS in the assets directory here Put the font files under static/font (Since there is nothing to be compiled for fonts, and the CSS file uses /font directory for locating the fonts). Make git treat font files as binary (I know some of those files are based on text, however I will not be manually editing them, thus marking them binary made more sense). The way to do this is demonstrated here Import the CSS from the header (also common stuff like minifying and fingerprinting CSS). If you have a partial import in your theme that allows you to add HTML to specific places in your site structure, it is trivial to import CSS. You can look at your themeâ€™s documentation or source code to see if such partial is imported in layouts or other partials. Luckily, the theme I am using did, therefore I have added the custom CSS import in it, as you can see here Rewrite the CSS classes to match the classes in your CSS. I only had the Font Awesome Icons on my CV, so I knew where I should replace fa-* classes to icon-* classes, but you might have to do a project-wide search for determining where Font Awesome is used. Alas, yet another commit \u0026 push, aaand my website size has been reduced by 300Kb.\nConclusion In the end, I have archived everything that I wanted to have; a simple, nice-looking, light website, continuous deployment and the extensibility I need. I hope you enjoyed reading this article and maybe it is helpful to someone that wants to build a similar website.\nHave a nice day!\n","wordCount":"1567","inLanguage":"en","datePublished":"2020-04-24T00:00:00Z","dateModified":"2024-11-24T22:28:07+01:00","author":{"@type":"Person","name":"Ozan Ä°ncesulu"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://ozyinc.com/blog/thispage/"},"publisher":{"@type":"Organization","name":"Ozan Ä°ncesulu","description":"","logo":{"@type":"ImageObject","url":"https://ozyinc.com/favicon.ico"}}}</script><title>Creating my website in Github Pages using Hugo</title>
<link rel="stylesheet dns-prefetch preconnect preload prefetch" as=style href=https://ozyinc.com/css/style.min.258798a52454af426545e91e3b3fc42bbed5c5af6f4d40b52d25b1479f29a5f6.css integrity="sha256-JYeYpSRUr0JlRekeOz/EK77Vxa9vTUC1LSWxR58ppfY=" crossorigin=anonymous><link rel=stylesheet href=https://ozyinc.com/css/fa-custom.min.f97eb73d0e8e14deae2b63448b4a5136adebdd755e04fa370cbfbd2cca32b6ff.css integrity="sha256-+X63PQ6OFN6uK2NEi0pRNq3r3XVeBPo3DL+9LMoytv8=" crossorigin=anonymous></head><body id=page><header id=site-header><div class="hdr-wrapper section-inner"><div class=hdr-left><div class=site-branding><a href=https://ozyinc.com/>Ozan Ä°ncesulu</a></div><nav class="site-nav hide-in-mobile"><a href=https://ozyinc.com/blog/>Some thoughts</a><a href=https://ozyinc.com/cv/>My CV</a><a href=https://ozyinc.com/about/>About Me</a><a href=https://ozyinc.com/tr>ðŸ‡¹ðŸ‡·</a></nav></div><div class="hdr-right hdr-icons"><button id=menu-btn class=hdr-btn title=Menu><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div></div></header><div id=mobile-menu class="animated fast"><ul><li><a href=https://ozyinc.com/blog/>Some thoughts</a></li><li><a href=https://ozyinc.com/cv/>My CV</a></li><li><a href=https://ozyinc.com/about/>About Me</a></li><li><a href=https://ozyinc.com/tr>ðŸ‡¹ðŸ‡·</a></li></ul></div><main class="site-main section-inner animated fadeIn faster"><article class=thin><header class=post-header><div class=post-meta><span>24 Apr 2020</span></div><h1>Creating my website in Github Pages using Hugo</h1></header><div class=post-info><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-feather"><path d="M20.24 12.24a6 6 0 00-8.49-8.49L5 10.5V19h8.5z"/><line x1="16" y1="8" x2="2" y2="22"/><line x1="17.5" y1="15" x2="9" y2="15"/></svg><a href target=_blank>Ozan Ä°ncesulu</a></p><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>1567 1567 Words</p><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>24-04-2020</p></div><hr class=post-end><div class=content><h3 id=background>Background<a href=#background class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h3><p>I have purchased the domain <a href=https://ozyinc.com>ozyinc.com</a> a long time ago to host custom servers (work-related, hobby and Minecraft &#x1f604; ), VPN server, etc&mldr; however I have never started building my own website and for many years the homepage was an Express server behind an NGINX reverse proxy displaying Hello World on GET <code>/</code>.</p><h3 id=the-case-with-elm-and-not-ever-finishing-website>The case with Elm and not-ever-finishing website<a href=#the-case-with-elm-and-not-ever-finishing-website class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h3><p>Then, one day I wanted to try using Elm to build my customized page, being accustomed to the ecosystem for some time. There was a static site generator for Elm, namely <a href=https://elm-pages.com/>elm-pages</a> however I thought that it would be fun to create all my custom routes and display different front-end wizardry on my home page, just for fun and experience. I was able to build yet another Hello world page successfully with the Elm compiler this time on GitHub Pages. However, I didn&rsquo;t create more content to it. I was always trying to attend to other projects, freelancing, job applications, university applications etc&mldr;, thus the second version for my website has also failed (ahem&mldr; put on hold indefinitely).</p><h3 id=the-hopefully-complete-case-with-hugo-and-weird-semantics-for-a-good-structured-page>The (hopefully) complete case with Hugo and weird semantics for a good structured page<a href=#the-hopefully-complete-case-with-hugo-and-weird-semantics-for-a-good-structured-page class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h3><p>After many failed interviews, a successful university application, while freelancing and a global pandemic happening outside, a friend of mine suggested that I create a personal blog of sorts, after making his case for the importance of such a blog. Meanwhile, for a freelance gig I was looking at various performance and usability metrics of different flat-file CMS and static site generators, in which I was introduced to Jekyll and Hugo (FYI: Even though there are many awesome and simple CMS like <a href=http://bludit.com/>Bludit</a>, <a href=https://getgrav.org/>Grav</a> and <a href=https://picocms.org/>Pico</a>, none of them had the flexibility and security of static site generators for me).</p><p>Thus came my enthusiasm to build myself a website/blog using a static site generator. But which CMS shall I pick for the job? After learning my lesson on how hard it is for me to design websites after many design failures (that I might talk about in other posts in the future), I decided that I shouldn&rsquo;t be trying to do custom things and go with the provided designs at first (and who says that I cannot customize them afterwards anyways?). Thus I decided on using a static site generator to build my blog eventually. I didn&rsquo;t want to pick <a href=https://jekyllrb.com/>Jekyll</a>, even though it has wide adoption and support from many organizations for two reasons:</p><ol><li>It involves Ruby. For a side project I didn&rsquo;t want to learn a new language of which I don&rsquo;t have any interest in learning both from the aspects of personal development and/or professional use. The reasons why I don&rsquo;t want to get involved with Ruby were that it:<ul><li>introduces a fairly different for many commonly known operations of other programming languages</li><li>doesn&rsquo;t introduce a new way of thinking about code (like ML-family languages, Python or Rust), is not performant (like C, Go, Rust, Nim), doesn&rsquo;t provide insights of a way of coding for a domain or ecosystem specific mentality (like C#, Javascript, Java or Swift)</li></ul></li><li>The setup time takes more than expected. The website claims that the environment should be ready in seconds. Downloading all the dependencies and libraries (Ruby, Gems, bundles, Jekyll) took 4 minutes.</li></ol><p>Luckily, I have also found out about <a href=https://gohugo.io/>Hugo</a>. The features that got me interested in it were:</p><ul><li>No need for a runtime environment or programming language specific environment, download one binary, and install any theme as submodule. I think I need to thank Google and their Go language for this mentality.</li><li>Many features come baked in &#x1f528;</li><li>I have seen the templating language in Helm Charts before thus the templating was much more intuitive for me &#x1f929;</li></ul><p>I have selected a theme that I liked, and I started writing content to my first ever blog &#x1f603;.</p><h3 id=github-pages>Github Pages<a href=#github-pages class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h3><p>Unfortunately, for Github Pages, if you are trying to build a page for yourself (in form of &lt;username>.github.io), you can&rsquo;t use Github Pages to full extend. You only can have Github Page (pun intended &#x1f605;), with the HTML content present at the root of the repository and all the code served from that root. There is no way to customize the serve path or branch (for project pages or organization pages you can specify a different branch or folder FYI.). I preferred to not to have the generated artifacts and source code for my page exist on the same location for maintainability, clear coding and easy deployment (considering Hugo and Jekyll both dump the generated content into a folder named <code>public</code>). Therefore, I have created another repository, moved all the code for my site there and update the page repository whenever I push new things to <code>master</code> of the code repo.</p><h3 id=final-touch-github-actions>Final Touch: Github Actions!<a href=#final-touch-github-actions class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h3><p>In order to automate the deployment of my page I have added a Github Pipeline to build the page and do a commit to the actual website repo. I have used some already prepared steps to run my pipeline, namely <a href=https://github.com/actions/checkout>Github Checkout (default for all actions)</a>, <a href=https://github.com/peaceiris/actions-hugo>Hugo Actions</a> and <a href=https://github.com/JamesIves/github-pages-deploy-action>Github Pages Deploy Action</a>.</p><p>At first, I tried creating deploy keys or personal tokens to be used in Deploy action, however Github didn&rsquo;t allow access even when I provide the token with all authorization it needs to change and deploy the repo. Thus, upon consulting the documentation of the Deploy Action, I have learned that by using <a href=https://github.com/webfactory/ssh-agent>SSH Agent Action</a> I can login to GitHub with SSH. This approach worked wonderfully.</p><p>As the last problem, the theme I have used for this site was not present when the page was deployed, which I fixed by adding the <code>submodules: recursive</code> argument to the Checkout action <a href=https://github.com/ozyinc/website/blob/master/.github/workflows/default.yml#L16>here</a></p><p>In the end I finally have a automated pipeline for deploying my page.</p><h3 id=bonus-cloudflare>Bonus: Cloudflare<a href=#bonus-cloudflare class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h3><p>Before I started building my page, I knew that <a href=https://cloudflare.com>Cloudflare</a> offers a free plan, in which you can get your website&rsquo;s assets cached and be served from whenever the users access your page from. I know that the Github Pages already use CDN to serve pages, however I have seen CloudFlare perform better than Github, since their caches are more widespread (especially in Turkey, where I reside). Therefore I have created a free account, redirected the DNS and did few configurations.</p><p>Aaandd&mldr; everything blew up. Apparently the CSS optimizer of Hugo and Cloudflare don&rsquo;t agree on what a minified CSS should feature, thus when Cloudflare re-optimized my CSS files when serving from its cache, the integrity check has failed and none of the styles were rendered. I fixed this by turning CSS optimization off on Cloudflare&rsquo;s side since Hugo already did a good job at minifying and fingerprinting my CSS.</p><h3 id=bonus-2-cloudflare-cache-control>Bonus 2: Cloudflare Cache Control<a href=#bonus-2-cloudflare-cache-control class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h3><p>With a free account, Cloudflare allows creating custom page rules, that I can use to add <code>Cache-Control</code> headers to the minified CSS and JS files that Hugo generates. I have applied Cache-Control header for 1 year with following rules:</p><pre tabindex=0><code class=language-url data-lang=url>ozyinc.com/*.min.*.css
ozyinc.com/*.min.*.js
</code></pre><h3 id=yet-another-extra-how-to-minimize-font-awesome>Yet another extra: How to minimize Font Awesome?<a href=#yet-another-extra-how-to-minimize-font-awesome class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h3><p>The theme that I was using to build my website featured some icons (the social icons on the bottom right on the main page), however some icons like angellist were missing from the set.
For custom icons I was using Font Awesome icon set (especially in my CV <a href=/cv/>here</a>) however I have seen that the CSS and Fonts for Font Awesome contains a lot of icons, of which most I don&rsquo;t use.</p><p>Therefore, to minimize the icons to those only I use, I found <a href=https://fontello.com/>Fontello</a>. On the website, I selected the icons I have used in my website and exported those in a file (you may download my zip <a href=https://github.com/ozyinc/website/blob/master/fontello-acabefc5.zip>here</a>).</p><p>Here are the steps I followed to embed the custom generated fonts:</p><ol><li>Put the provided CSS in the assets directory <a href=https://github.com/ozyinc/website/blob/master/assets/css/fa-custom.css>here</a></li><li>Put the font files under <code>static/font</code> (Since there is nothing to be compiled for fonts, and the CSS file uses <code>/font</code> directory for locating the fonts).</li><li>Make git treat font files as binary (I know some of those files are based on text, however I will not be manually editing them, thus marking them binary made more sense). The way to do this is demonstrated <a href=https://github.com/ozyinc/website/blob/master/.gitattributes#L4>here</a></li><li>Import the CSS from the header (also common stuff like minifying and fingerprinting CSS). If you have a partial import in your theme that allows you to add HTML to specific places in your site structure, it is trivial to import CSS. You can look at your theme&rsquo;s documentation or source code to see if such partial is imported in layouts or other partials. Luckily, the theme I am using did, therefore I have added the custom CSS import in it, as you can see <a href=https://github.com/ozyinc/website/blob/master/layouts/partials/extra-head.html>here</a></li><li>Rewrite the CSS classes to match the classes in your CSS. I only had the Font Awesome Icons on my CV, so I knew where I should replace <code>fa-*</code> classes to <code>icon-*</code> classes, but you might have to do a project-wide search for determining where Font Awesome is used.</li></ol><p>Alas, yet another <a href=https://github.com/ozyinc/website/commit/b985d7098398d58d86768895a0ca6d7b709cdfea>commit & push</a>, aaand my website size has been reduced by 300Kb.</p><h3 id=conclusion>Conclusion<a href=#conclusion class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h3><p>In the end, I have archived everything that I wanted to have; a simple, nice-looking, light website, continuous deployment and the extensibility I need. I hope you enjoyed reading this article and maybe it is helpful to someone that wants to build a similar website.</p><p>Have a nice day!</p></div></article><div class="post-nav thin"><a class=next-post href=https://ozyinc.com/blog/socialsharing/><span class=post-nav-label><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>&nbsp;Newer</span><br><span>Implementing social share buttons</span></a></div><div id=comments class=thin></div></main><footer id=site-footer class="section-inner thin animated fadeIn faster"><p>&copy; 2024 <a href=https://ozyinc.com/>Ozan Ä°ncesulu</a>
&#183; &#183; <a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank rel=noopener>CC BY-NC 4.0</a> | Some extra icons from <a href=https://github.com/FortAwesome/Font-Awesome target=_blank>Font Awesome</a> &#183; Made with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a>
&#183; Theme <a href=https://github.com/1bl4z3r/hermit-V2 target=_blank rel=noopener>Hermit-V2</a></p></footer><script async src=https://ozyinc.com/js/bundle.min.c7c384e4d29d192bbac6811ae4660bb01767194a5bea56baca77e8260f93ea16.js integrity="sha256-x8OE5NKdGSu6xoEa5GYLsBdnGUpb6la6ynfoJg+T6hY=" crossorigin=anonymous></script><script src=https://ozyinc.com/js/custom.min.50fd7541990458c121217dc261b8e14aa8a9fd93200adc6f2a715fc726d41bfa.js integrity="sha256-UP11QZkEWMEhIX3CYbjhSqip/ZMgCtxvKnFfxybUG/o="></script></body></html>